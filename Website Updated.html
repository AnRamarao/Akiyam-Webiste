<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aikyam ‚Ä¢ Menifee</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />


</head>

<body>
  <div class="tricolor" aria-hidden="true"></div>

  <div id="bg-zoom" aria-hidden="true">
    <img id="bgZoomImg" src="pictures/6.png" alt="">
  </div>

  <header class="reveal" id="siteHeader">
    <div class="header-inner">
      <div>
        <div class="sunburst" aria-hidden="true" style="width:80px;height:80px;">
          <div class="sweep"></div>
        </div>
        <div class="hero-logo-wrap" id="heroWrap" style="margin: 3px;">
          <img class="hero-logo" id="heroLogo" src="pictures/5-modified.png" alt="Aikyam Logo"
            style="width:70px;height:70px;">
        </div>
      </div>

      <!-- ===== Updated NAV with mobile toggle ===== -->
      <nav>
        <button class="nav-toggle" id="navToggle" aria-label="Toggle menu" aria-expanded="false">‚ò∞</button>
        <div class="nav-links">
          <a href="#home">Home</a>
          <a href="#core">Core Team</a>
          <a href="#board">Board</a>
          <a href="#events">Events</a>
          <a href="#gallery">Gallery</a>
          <a href="#reviews-section">Reviews</a>
          <a href="#members">Members</a>
          <a href="#vendors">Vendors</a>
          <a href="#register">Register</a>
          <a href="#donate">Donate</a>
          <a href="#contact-section">Contact</a>
        </div>
      </nav>

      <button class="theme-toggle" id="themeToggle"> ‚òÄ/üåô</button>
    </div>
  </header>

  <div id="scroll-progress"></div>

  <section class="hero" id="home">
    <div class="container">
      <div class="hero-left">
        <h1 style="font-size:56px;line-height:1.1;">Unity in Diversity,<br />Community in Action</h1>
        <p class="tagline">Aikyam brings Menifee families together to celebrate culture, volunteer, and create chances
          for kids to shine.</p>
        <div class="next-title">Next up: <span id="nextEventTitle">‚Äî</span></div>
        <div class="countdown" id="countdown" aria-label="countdown"></div>
        <div class="cta-row">
          <a class="btn" href="#events">See Events</a>
          <a class="btn secondary" href="#register">Register</a>
          <a class="btn secondary" target="_blank" rel="noopener"
            href="https://www.youtube.com/@BalaramnaiduDowney">YouTube</a>
        </div>
      </div>
      <div class="hero-right">
        <div class="sunburst" aria-hidden="true">
          <div class="sweep"></div>
        </div>
        <div class="hero-logo-wrap">
          <img class="hero-logo" src="pictures/6.png" alt="Aikyam Logo">
        </div>
      </div>
    </div>
  </section>

  <section id="core" class="reveal">
    <div class="container">
      <h2 class="section-title">Core Team</h2>
      <div class="cards" id="coreCards"></div>
      <div class="mv">
        <h4>Mission</h4>
        <p>To inspire and empower the next generation by nurturing cultural pride, fostering community unity, and
          creating opportunities for children and families to celebrate, learn, and grow together.</p>
        <h4 style="margin-top:10px;">Vision</h4>
        <p>A vibrant, inclusive home where every family belongs, every child leads with pride, and our diversity
          strengthens the city we love.</p>
      </div>
    </div>
  </section>

  <section id="board" class="reveal">
    <div class="container">
      <h2 class="section-title">Board of Directors</h2>
      <div class="cards" id="boardCards"></div>
    </div>
  </section>

  <section id="events" class="reveal">
    <div class="container">
      <h2 class="section-title">Events</h2>
      <div class="events-3col">
        <div class="col l">
          <h3 class="subhead">Past Events</h3>
          <div class="vloop" id="pastVLoop" style="--vspd:38s"></div>
        </div>
        <div class="col m">
          <h3 class="subhead">Calendar</h3>
          <div class="calendar-card">
            <div class="calendar-head">
              <strong>Mini Calendar</strong>
              <span class="pill" id="calendarMonth"></span>
            </div>
            <div class="calendar-grid" id="calendarGrid" aria-label="Mini Calendar"></div>
            <div class="schedule" id="upcomingSchedule" aria-label="Upcoming schedule"></div>
          </div>
        </div>
        <div class="col r">
          <h3 class="subhead">Upcoming Events</h3>
          <div class="vloop" id="upVLoop" style="--vspd:44s"></div>
        </div>
      </div>
    </div>
  </section>

  <section id="gallery" class="reveal">
    <div class="container">
      <h2 class="section-title">Moments</h2>
      <div class="wrap">
        <div class="gtrack" id="gtrack"></div>
      </div>
    </div>
  </section>

  <section id="reviews-section" class="reveal">
    <div class="container">
      <h2 class="section-title">Member Reviews</h2>
      <div class="reviews"
        style="display:flex;gap:18px;justify-content:center;align-items:stretch;width:var(--maxw);margin:0 auto;">
        <div class="review card">‚ÄúWonderful platform to celebrate culture and connect with families.‚Äù</div>
        <div class="review card">‚ÄúKids loved participating in the festivities and activities.‚Äù</div>
        <div class="review card">‚ÄúGreat community spirit and well organized events.‚Äù</div>
      </div>
    </div>
  </section>

  <!-- ============================== MEMBERS (NEW) =================== -->
  <section id="members" class="reveal">
    <div class="container">
      <h2 class="section-title">Become a Member</h2>
      <div class="reg-wrap">
        <div class="embed">
          <div class="embed-head">
            <span class="badge">Community Membership</span>
            <div style="display:flex;gap:10px;align-items:center;">
              <span class="hint">Prefer a new tab?</span>
              <a class="btn link" target="_blank" rel="noopener" href="https://forms.gle/jTLazxmQaGQxHDDEA">Open Google
                Form</a>
            </div>
          </div>
          <div class="embed-body">
            <iframe src="https://forms.gle/jTLazxmQaGQxHDDEA" allow="payment *; clipboard-write *;"></iframe>
          </div>
        </div>

        <div class="card">
          <h3 style="margin-bottom:6px;">Member Perks</h3>
          <ul>
            <li>Priority access to cultural nights & kid showcases</li>
            <li>Member-only updates & volunteer sign-ups</li>
            <li>Early bird pricing for major events</li>
            <li>Vendor discounts from our partners</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================== REGISTER (EMBED) =================== -->
  <section id="register" class="reveal">
    <div class="container">
      <h2 class="section-title">Register</h2>
      <div class="reg-wrap">
        <div class="embed">
          <div class="embed-head">
            <span class="badge">Official Form</span>
            <div style="display:flex;gap:10px;align-items:center;">
              <span class="hint">Prefer a new tab?</span>
              <a class="btn link" target="_blank" rel="noopener" href="https://forms.gle/QVvLzs9ZRPxx1EYv9">Open Google
                Form</a>
            </div>
          </div>
          <div class="embed-body">
            <iframe src="https://forms.gle/QVvLzs9ZRPxx1EYv9" allow="payment *; clipboard-write *;"></iframe>
          </div>
        </div>

        <div class="card">
          <h3 style="margin-bottom:6px;">Tips</h3>
          <div class="hint">After you submit, you‚Äôll see a confirmation message from Google Forms. If the form doesn‚Äôt
            load, click ‚ÄúOpen Google Form‚Äù.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- =============================== VENDORS (NEW) ============================ -->
  <section id="vendors" class="reveal">
    <div class="container">
      <h2 class="section-title">Vendors & Partners</h2>
      <div class="card" style="margin-bottom:14px;">
        <div
          style="display:flex; flex-wrap:wrap; gap:8px; align-items:center; justify-content:center; margin-bottom:10px;">
          <span class="pill">Filter:</span>
          <button class="btn mini secondary" data-filter="All">All</button>
          <button class="btn mini secondary" data-filter="Food">Food</button>
          <button class="btn mini secondary" data-filter="Boutique">Boutique</button>
          <button class="btn mini secondary" data-filter="Education">Education</button>
          <button class="btn mini secondary" data-filter="Services">Services</button>
        </div>
        <div id="vendorGrid"></div>
        <div class="hint" style="text-align:center; margin-top:8px;">Want to be listed? Email <a
            href="mailto:info@aikyam.com">info@aikyam.com</a> with your logo, category, and a short blurb.</div>
      </div>

      <div class="wrap"
        style="overflow:hidden;border-radius:16px;border:1px solid var(--brd);background:var(--card);box-shadow:var(--shadow);">
        <div id="vendorMarquee" class="gtrack" style="gap:18px; padding:14px;"></div>
      </div>
    </div>
  </section>

  <!-- =============================== DONATE (PRETTY + TOP DONORS) ============================ -->
  <section id="donate" class="reveal">
    <div class="container">
      <h2 class="section-title">Support Aikyam</h2>

      <div class="donate-grid">
        <!-- Left: Fancy donation hero + form -->
        <div class="donate-hero">
          <div class="sunburst" aria-hidden="true"
            style="width:220px;height:220px; right:-60px; top:-60px; position:absolute; opacity:.8;">
            <div class="sweep"></div>
          </div>

          <h3>Help power culture, service, and youth leadership</h3>
          <p>Every dollar supports events, kids‚Äô activities, and community service projects in Menifee.</p>

          <div class="progress" aria-label="progress to goal">
            <div id="donationBar" class="bar"></div>
          </div>
          <div class="meta">
            <span class="pill">Goal: <span id="goalLbl">$5,000</span></span>
            <span class="pill">Raised: <span id="raisedLbl">$2,860</span></span>
            <span class="pill">Donors: <span id="donorsLbl">73</span></span>
          </div>

          <!-- Form -->
          <form class="donation-form" id="donationForm">
            <div class="input-row">
              <input class="input" type="text" id="donorName" placeholder="Your Name" required>
              <input class="input" type="email" id="donorEmail" placeholder="Your Email" required>
            </div>

            <div style="margin-top:12px;">
              <div class="hint" style="margin-bottom:6px;">Choose an amount</div>
              <div class="amount-grid" id="amountGrid">
                <button type="button" class="amount-btn" data-amt="10">$10</button>
                <button type="button" class="amount-btn" data-amt="25">$25</button>
                <button type="button" class="amount-btn" data-amt="50">$50</button>
                <button type="button" class="amount-btn" data-amt="100">$100</button>
                <button type="button" class="amount-btn" data-amt="250">$250</button>
                <button type="button" class="amount-btn" data-amt="500">$500</button>
              </div>

              <div class="custom-amount">
                <span class="pill">Custom</span>
                <input class="input" type="number" id="customAmount" min="1" step="1" placeholder="$ Amount">
              </div>
            </div>

            <div class="donate-actions">
              <label class="switch">
                <input type="checkbox" id="recurring">
                <span>Make this monthly</span>
              </label>
              <button type="submit" class="btn">Donate Now</button>
              <span id="donateMsg" class="hint"></span>
            </div>
          </form>
        </div>

        <!-- Right: Top Donors -->
        <aside class="leaderboard">
          <div class="head">
            <span class="title">Top Donors</span>
            <span class="pill">This Month</span>
          </div>
          <div class="donor-list" id="donorList">
            <div class="donor">
              <div class="avatar" aria-hidden="true">ü•á</div>
              <div>
                <div class="name">Priya N.</div>
                <div class="hint">‚ÄúFor the kids‚Äô cultural night!‚Äù</div>
              </div>
              <div style="text-align:right;">
                <div class="amt">$750</div>
                <div class="rank gold">#1</div>
              </div>
            </div>
            <div class="donor">
              <div class="avatar" aria-hidden="true">ü•à</div>
              <div>
                <div class="name">Arjun & Meera</div>
                <div class="hint">Community Service Day</div>
              </div>
              <div style="text-align:right;">
                <div class="amt">$500</div>
                <div class="rank silver">#2</div>
              </div>
            </div>
            <div class="donor">
              <div class="avatar" aria-hidden="true">ü•â</div>
              <div>
                <div class="name">Menifee Motors</div>
                <div class="hint">Local business sponsor</div>
              </div>
              <div style="text-align:right;">
                <div class="amt">$300</div>
                <div class="rank bronze">#3</div>
              </div>
            </div>
          </div>
        </aside>
      </div>

      <div class="hint" style="margin-top:12px;text-align:center;">Want to be featured? Large gifts and recurring
        support help us plan bigger opportunities for kids. üíõ</div>
    </div>
  </section>

  <section id="contact-section" class="reveal">
    <div class="container">
      <h2 class="section-title">Contact Us</h2>
      <div class="contact">
        <p>Email: <a href="mailto:info@aikyam.com">info@aikyam.com</a></p>
        <p class="hint">Volunteer? Please reach out to <strong>Sowjanya Reddy Jagganna</strong>.</p>
        <p>Follow us:</p>
        <p>
          <a target="_blank" rel="noopener" href="https://www.youtube.com/@BalaramnaiduDowney">YouTube</a> |
          <a href="#">Facebook</a> |
          <a href="#">Instagram</a> |
          <a href="#">Twitter</a>
        </p>
      </div>
    </div>
  </section>

  <canvas id="fireworks-canvas"></canvas>
  <div id="toTop" title="Back to top">‚Üë</div>
  <div id="toast"></div>
  <footer>
    &copy; 2025 Aikyam - Menifee, California ‚Ä¢ All Rights Reserved ‚Ä¢
    <a target="_blank" rel="noopener" href="https://www.youtube.com/@BalaramnaiduDowney"
      style="color:var(--accent);font-weight:900;">Our YouTube</a>
  </footer>

  <script>
    /* ===================== THEME TOGGLE (persisted) ==================== */
    const themeToggle = document.getElementById('themeToggle');
    (function initTheme() {
      const saved = localStorage.getItem('aikyam_theme') || 'dark';
      if (saved === 'light') document.body.classList.add('light');
      themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('light');
        localStorage.setItem('aikyam_theme', document.body.classList.contains('light') ? 'light' : 'dark');
      });
    })();

    /* ================== MOBILE NAV TOGGLE ================== */
    (function () {
      const header = document.getElementById('siteHeader');
      const btn = document.getElementById('navToggle');
      if (!btn) return;
      btn.addEventListener('click', () => {
        const open = header.classList.toggle('open');
        btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      });
    })();

    /* ================== SCROLL PROGRESS & BACK-TO-TOP ================== */
    (function () {
      const btn = document.getElementById('toTop');
      const prog = document.getElementById('scroll-progress');
      function onScroll() {
        const y = window.scrollY; const h = document.documentElement.scrollHeight - window.innerHeight;
        const pct = Math.max(0, Math.min(1, y / h)); prog.style.width = (pct * 100) + '%';
        if (y > 280) btn.classList.add('show'); else btn.classList.remove('show');
      }
      window.addEventListener('scroll', onScroll, { passive: true }); onScroll();
      btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    })();

    /* ====================== BUTTON RIPPLE EFFECT ======================= */
    document.addEventListener('click', (e) => {
      const b = e.target.closest('.btn');
      if (!b) return;
      const r = document.createElement('span'); r.className = 'r';
      const rect = b.getBoundingClientRect(); r.style.left = (e.clientX - rect.left) + 'px'; r.style.top = (e.clientY - rect.top) + 'px';
      b.appendChild(r); setTimeout(() => r.remove(), 620);
    });

    /* =================== BACKGROUND ZOOM ON SCROLL ===================== */
    (function () {
      const img = document.getElementById('bgZoomImg');
      function onScroll() {
        const doc = document.documentElement;
        const max = Math.max(1, doc.scrollHeight - window.innerHeight);
        const p = window.scrollY / max;
        const scale = 1 + p * 0.8;
        img.style.transform = `scale(${scale})`;
      }
      window.addEventListener('scroll', onScroll, { passive: true });
      onScroll();
    })();

    /* ======================= REVEAL ON INTERSECT ======================= */
    (function () {
      const io = new IntersectionObserver(es => { es.forEach(e => { if (e.isIntersecting) e.target.classList.add('show'); }) }, { threshold: .22 });
      document.querySelectorAll('.reveal').forEach(el => io.observe(el));
    })();

    /* ========================= DATA: EVENTS ============================ */
    const upcomingEvents = [
      {
        id: 'evt_ganesh25', title: 'Ganesh Chaturthi',
        start: '2025-09-07T17:00:00', end: '2025-09-07T20:00:00', location: 'Menifee Community Center', price: 0,
        img: 'assets/events/ganesh.jpg',
        fallback: 'https://images.unsplash.com/photo-1600011689032-8c3e7b80eb75?q=80&w=1200&auto=format&fit=crop',
        desc: 'Community puja, aarthi, and prasadam. Family friendly.'
      },
      {
        id: 'evt_service25', title: 'Community Service Day',
        start: '2025-09-28T09:00:00', end: '2025-09-28T12:00:00', location: 'Alderwood Park', price: 0,
        img: 'assets/events/service-day.jpg',
        fallback: 'https://images.unsplash.com/photo-1488459716781-31db52582fe9?q=80&w=1200&auto=format&fit=crop',
        desc: 'Park clean-up & care packages. Service hours for students.'
      },
      {
        id: 'evt_navratri25', title: 'Navratri Garba Night',
        start: '2025-10-04T18:30:00', end: '2025-10-04T22:00:00', location: 'Heritage Lake Clubhouse', price: 15,
        img: 'assets/events/garba.jpg',
        fallback: 'https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?q=80&w=1200&auto=format&fit=crop',
        desc: 'Traditional garba & dandiya. Dress in your best!'
      },
      {
        id: 'evt_mg_oct31', title: 'Meet & Greet',
        start: '2025-10-31T18:00:00', end: '2025-10-31T19:30:00', location: 'TBD', price: 0,
        img: 'assets/events/meet-greet.jpg',
        fallback: 'https://images.unsplash.com/photo-1521737604893-d14cc237f11d?q=80&w=1200&auto=format&fit=crop',
        desc: 'Casual networking and community-building session.'
      },
      {
        id: 'evt_diwali25', title: 'Diwali Mela & Cultural Night',
        tbd: true, location: 'TBD', price: 25,
        img: 'assets/events/diwali.jpg',
        fallback: 'https://images.unsplash.com/photo-1545424273-19f5aa36a2fa?q=80&w=1200&auto=format&fit=crop',
        desc: 'Festival of Lights ‚Äî November (date TBD).'
      },
    ];
    const completedEvents = [
      {
        id: 'past_pongal', title: 'Pongal Festival', date: '2025-01-18',
        img: 'assets/events/past-pongal.jpg',
        fallback: 'https://images.unsplash.com/photo-1542367597-8849eb00b2c2?q=80&w=1200&auto=format&fit=crop',
        summary: 'Harvest celebrations with traditional food & festivities.'
      },
      {
        id: 'past_ugadhi', title: 'Ugadhi', date: '2025-03-30',
        img: 'assets/events/past-ugadi.jpg',
        fallback: 'https://images.unsplash.com/photo-1578926374377-5a3f78c19c6f?q=80&w=1200&auto=format&fit=crop',
        summary: 'Telugu New Year with joy, culture, tradition.'
      },
      {
        id: 'past_independence', title: 'Independence Day Celebration', date: '2025-08-15',
        img: 'assets/events/past-independence.jpg',
        fallback: 'https://images.unsplash.com/photo-1591604466107-ec97de577aff?q=80&w=1200&auto=format&fit=crop',
        summary: "Pride, parade, and community spirit."
      },
    ];

    function makeImage(src, fallback, alt) {
      const im = document.createElement('img');
      im.src = src; im.alt = alt || '';
      if (fallback) { im.onerror = () => { if (im.src !== fallback) im.src = fallback; }; }
      return im;
    }

    function buildVLoop(hostId, items, renderCard) {
      const host = document.getElementById(hostId);
      host.innerHTML = '';
      const track = document.createElement('div'); track.className = 'vtrack';
      const dup = document.createElement('div'); dup.className = 'vtrack';
      items.forEach((it, i) => track.appendChild(renderCard(it, i)));
      items.forEach((it, i) => dup.appendChild(renderCard(it, i + items.length)));
      const wrap = document.createElement('div'); wrap.style.display = 'grid'; wrap.style.gap = '16px';
      wrap.appendChild(track); wrap.appendChild(dup);
      host.appendChild(wrap);
    }

    function renderPastCard(ev) {
      const card = document.createElement('div'); card.className = 'event-card';
      const th = document.createElement('div'); th.className = 'event-thumb';
      th.appendChild(makeImage(ev.img, ev.fallback, ev.title));
      const body = document.createElement('div'); body.className = 'event-body';
      body.innerHTML = `
      <div class="event-title">${ev.title}</div>
      <div class="event-meta"><span class="pill">Completed</span><span>${new Date(ev.date).toLocaleDateString()}</span></div>
      <div class="event-desc">${ev.summary}</div>`;
      card.appendChild(th); card.appendChild(body);
      return card;
    }
    function makeICSDataURI(ev) {
      const dt = (s) => new Date(s).toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
      const uid = ev.id + '@aikyam';
      const ics = [
        'BEGIN:VCALENDAR', 'VERSION:2.0', 'PRODID:-//Aikyam//Events//EN', 'CALSCALE:GREGORIAN', 'BEGIN:VEVENT',
        `UID:${uid}`, `DTSTAMP:${dt(new Date())}`, `DTSTART:${dt(ev.start)}`, `DTEND:${dt(ev.end)}`,
        `SUMMARY:${ev.title}`, `LOCATION:${ev.location}`, `DESCRIPTION:${ev.desc}`,
        'END:VEVENT', 'END:VCALENDAR'
      ].join('\\r\\n');
      return 'data:text/calendar;charset=utf-8,' + encodeURIComponent(ics);
    }
    function renderUpcomingCard(ev) {
      const card = document.createElement('div'); card.className = 'event-card';
      const th = document.createElement('div'); th.className = 'event-thumb';
      th.appendChild(makeImage(ev.img, ev.fallback, ev.title));
      const when = ev.tbd ? 'Date TBD' : new Date(ev.start).toLocaleString([], { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });
      const body = document.createElement('div'); body.className = 'event-body';
      body.innerHTML = `
      <div class="event-title">${ev.title}</div>
      <div class="event-meta"><span class="pill">${ev.tbd ? 'TBD' : 'Upcoming'}</span><span>${ev.tbd ? 'To be announced' : when}</span></div>
      <div class="event-desc">${ev.location} ‚Ä¢ ${ev.price > 0 ? '$' + ev.price : 'Free'}</div>
      <div class="event-actions">
        ${ev.tbd ? '' : `<a class="btn mini secondary" href="${makeICSDataURI(ev)}" download="${ev.id}.ics">Add to Calendar</a>
        <a class="btn mini" href="#register">Register</a>`}
      </div>`;
      card.appendChild(th); card.appendChild(body);
      return card;
    }

    const coreTeam = [
      { name: 'Sowjanya Reddy Jagganna', role: 'President', img: 'pictures/Sowjanya.jpeg' },
      { name: 'Ramesh Jakkampudi', role: 'Vice President', img: 'pictures/Ramesh.jpeg' },
      { name: 'Shhiva Pannem', role: 'Secretary', img: 'assets/people/shhiva.jpg' },
      { name: 'Sidhesh Siddegowda', role: 'Treasurer', img: 'assets/people/sidhesh.jpg' },
    ];
    function renderCore() {
      document.getElementById('coreCards').innerHTML = coreTeam.map(m => (
        `<div class="person-card">
        <img src="${m.img}" alt="${m.name}">
        <div class="name">${m.name}</div>
        <div class="role">${m.role}</div>
        <div style="margin-top:10px;display:flex;justify-content:center;gap:8px;flex-wrap:wrap">
          <span class="chip-mini">Menifee, CA</span>
        </div>
      </div>`
      )).join('');
    }
    const boardMembers = [
      { name: 'Balaram Singamsetty (Bala)', role: 'Board of Director', img: 'assets/people/bala.jpg' },
      { name: 'Raju Kakani', role: 'Board of Director', img: 'assets/people/raju.jpg' },
      { name: 'Vijay Jestadi', role: 'Board of Director', img: 'assets/people/vijay.jpg' },
      { name: 'Ramarao Rimmalapudi', role: 'Board of Director', img: 'assets/people/ramarao.jpg' },
      { name: 'Ravi Jampana', role: 'Board of Director', img: 'assets/people/ravi.jpg' },
    ];
    function renderBoard() {
      document.getElementById('boardCards').innerHTML = boardMembers.map(m => (
        `<div class="person-card">
        <img src="${m.img}" alt="${m.name}">
        <div class="name">${m.name}</div>
        <div class="role">${m.role}</div>
      </div>`
      )).join('');
    }

    function sameDate(a, b) { return a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate(); }
    function eventDateMap() {
      const m = {};
      upcomingEvents.forEach(ev => {
        if (!ev.tbd && ev.start) {
          const d = new Date(ev.start);
          const key = `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;
          m[key] = (m[key] || 0) + 1;
        }
      });
      return m;
    }
    function renderCalendar() {
      const grid = document.getElementById('calendarGrid');
      const monthLbl = document.getElementById('calendarMonth');
      const now = new Date();
      const focus = new Date(now.getFullYear(), now.getMonth(), 1);
      monthLbl.textContent = focus.toLocaleString(undefined, { month: 'long', year: 'numeric' });

      const startDow = (focus.getDay() + 7) % 7;
      const daysInMonth = new Date(focus.getFullYear(), focus.getMonth() + 1, 0).getDate();
      const totalCells = Math.ceil((startDow + daysInMonth) / 7) * 7;
      const map = eventDateMap();

      grid.innerHTML = '';
      for (let i = 0; i < totalCells; i++) {
        const cell = document.createElement('div'); cell.className = 'cal-cell';
        const dayNum = i - startDow + 1;
        const inMonth = dayNum >= 1 && dayNum <= daysInMonth;
        if (!inMonth) { cell.classList.add('mute'); cell.textContent = ''; }
        else {
          cell.textContent = dayNum;
          const d = new Date(focus.getFullYear(), focus.getMonth(), dayNum);
          if (map[`${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`]) cell.classList.add('has');
          if (sameDate(d, now)) cell.style.outline = '2px solid rgba(255,204,0,.7)';
        }
        grid.appendChild(cell);
      }

      const sched = document.getElementById('upcomingSchedule');
      const soon = upcomingEvents.slice().sort((a, b) => {
        const A = a.tbd ? Infinity : new Date(a.start).getTime();
        const B = b.tbd ? Infinity : new Date(b.start).getTime();
        return A - B;
      });
      sched.innerHTML = '';
      soon.forEach(ev => {
        const d = ev.tbd ? null : new Date(ev.start);
        const dt = ev.tbd ? 'Date TBD' : `${d.toLocaleDateString(undefined, { month: 'short', day: 'numeric' })} ‚Ä¢ ${d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`;
        const icsHref = !ev.tbd ? makeICSDataURI(ev) : '#';
        const item = document.createElement('div'); item.className = 'sch-item';
        item.innerHTML = `
        <div class="t">${ev.title}</div>
        <div class="d">${dt} ‚Äî ${ev.location} ‚Ä¢ ${ev.price > 0 ? '$' + ev.price : 'Free'}</div>
        <div class="a">
          ${ev.tbd ? '' : `<a class="btn mini secondary" href="${icsHref}" download="${ev.id}.ics">Add to Calendar</a>
          <a class="btn mini" href="#register">Register</a>`}
        </div>`;
        sched.appendChild(item);
      });
    }

    function toast(msg, ms = 1400) {
      const t = document.getElementById('toast');
      t.textContent = msg; t.classList.add('show');
      clearTimeout(toast._h);
      toast._h = setTimeout(() => t.classList.remove('show'), ms);
    }

    /* =================== GALLERY MARQUEE =================== */
    (function () {
      const images = [
        { src: 'pictures/1.jpg', label: 'Moment 1', fallback: 'https://images.unsplash.com/photo-1548020356-5a6d8924b7f8?q=80&w=1200&auto=format&fit=crop' },
        { src: 'pictures/2.jpg', label: 'Moment 2', fallback: 'https://images.unsplash.com/photo-1492684223066-81342ee5ff30?q=80&w=1200&auto=format&fit=crop' },
        { src: 'pictures/3.jpg', label: 'Moment 3', fallback: 'https://images.unsplash.com/photo-1520975922284-5fbc8da7e2f3?q=80&w=1200&auto=format&fit=crop' },
        { src: 'pictures/4.jpg', label: 'Moment 4', fallback: 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?q=80&w=1200&auto=format&fit=crop' },
      ];
      const track = document.getElementById('gtrack');
      function makeSlide(it) {
        const s = document.createElement('div'); s.className = 'gslide';
        const im = document.createElement('img'); im.src = it.src; im.alt = it.label;
        im.onerror = () => { if (it.fallback && im.src !== it.fallback) im.src = it.fallback; };
        const lb = document.createElement('div'); lb.className = 'label'; lb.textContent = it.label;
        s.appendChild(im); s.appendChild(lb); return s;
      }
      [...images, ...images].forEach(it => track.appendChild(makeSlide(it)));
      let x = 0; const speed = 0.35;
      function loop() {
        x -= speed;
        const halfWidth = track.scrollWidth / 2;
        if (Math.abs(x) >= halfWidth) { x = 0; }
        track.style.transform = `translateX(${x}px)`;
        requestAnimationFrame(loop);
      }
      requestAnimationFrame(loop);
    })();

    function renderCalendarAndEvents() {
      renderCalendar();
      buildVLoop('pastVLoop', completedEvents, renderPastCard);
      buildVLoop('upVLoop', upcomingEvents, renderUpcomingCard);
    }
    function startCountdown() {
      const target = upcomingEvents.filter(e => !e.tbd && e.start && new Date(e.start).getTime() > Date.now())
        .sort((a, b) => new Date(a.start) - new Date(b.start))[0];
      const titleEl = document.getElementById('nextEventTitle');
      const c = document.getElementById('countdown');
      if (!target) { titleEl.textContent = 'Stay tuned'; c.innerHTML = ''; return; }
      titleEl.textContent = `${target.title} ‚Äî ${new Date(target.start).toLocaleDateString(undefined, { month: 'short', day: 'numeric' })}`;
      function tick() {
        const now = Date.now(), t = new Date(target.start).getTime() - now;
        if (t <= 0) { c.innerHTML = '<div class="k">Happening now</div>'; return; }
        const d = Math.floor(t / 86400000), h = Math.floor((t % 86400000) / 3600000), m = Math.floor((t % 3600000) / 60000), s = Math.floor((t % 60000) / 1000);
        c.innerHTML = `<div class="k">${d}<br/><small>days</small></div><div class="k">${h}<br/><small>hrs</small></div><div class="k">${m}<br/><small>min</small></div><div class="k">${s}<br/><small>sec</small></div>`;
      }
      tick(); clearInterval(startCountdown._int); startCountdown._int = setInterval(tick, 1000);
    }
    renderCore();
    renderBoard();
    renderCalendarAndEvents();
    startCountdown();

    /* ===================== DONATE INTERACTIONS ===================== */
    const GOAL = 5000;
    let raised = 2860;
    let donors = 73;

    function updateProgress() {
      document.getElementById('goalLbl').textContent = `$${GOAL.toLocaleString()}`;
      document.getElementById('raisedLbl').textContent = `$${raised.toLocaleString()}`;
      document.getElementById('donorsLbl').textContent = donors.toLocaleString();
      const pct = Math.min(100, Math.round((raised / GOAL) * 100));
      requestAnimationFrame(() => { document.getElementById('donationBar').style.width = pct + '%'; });
    }
    updateProgress();

    const amountButtons = Array.from(document.querySelectorAll('.amount-btn'));
    const customAmount = document.getElementById('customAmount');
    let selectedAmount = null;

    function setActive(btn) {
      amountButtons.forEach(b => b.classList.remove('active'));
      if (btn) { btn.classList.add('active'); selectedAmount = parseInt(btn.dataset.amt, 10); customAmount.value = ''; }
    }
    amountButtons.forEach(b => {
      b.addEventListener('click', () => setActive(b));
    });
    customAmount.addEventListener('input', () => {
      amountButtons.forEach(b => b.classList.remove('active'));
      const v = parseInt(customAmount.value || '0', 10);
      selectedAmount = isNaN(v) ? null : v;
    });

    function triggerFireworks() {
      const canvas = document.getElementById('fireworks-canvas');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth; canvas.height = window.innerHeight;
      const particles = []; for (let i = 0; i < 160; i++) {
        particles.push({ x: canvas.width / 2, y: canvas.height / 2, vx: (Math.random() - 0.5) * 11, vy: (Math.random() - 0.5) * 11, size: Math.random() * 3 + 2, color: `hsl(${Math.random() * 360},100%,50%)`, life: 60 + Math.random() * 40 });
      }
      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => {
          p.x += p.vx; p.y += p.vy; p.vy += 0.09; p.life -= 1;
          ctx.globalAlpha = Math.max(0, p.life / 100);
          ctx.fillStyle = p.color; ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); ctx.fill();
        });
        if (particles.some(p => p.life > 0)) requestAnimationFrame(animate); else ctx.clearRect(0, 0, canvas.width, canvas.height);
      }
      animate();
    }

    const form = document.getElementById('donationForm');
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const name = document.getElementById('donorName').value.trim();
      const email = document.getElementById('donorEmail').value.trim();
      const monthly = document.getElementById('recurring').checked;

      let amount = selectedAmount || parseInt(customAmount.value || '0', 10);
      if (!amount || amount <= 0) { toast('Please choose or enter an amount'); return; }

      raised += amount;
      donors += 1;
      updateProgress();
      triggerFireworks();

      const threshold = 250;
      if (amount >= threshold) {
        injectDonorToLeaderboard({ name, amount });
      }

      toast(monthly ? `Thanks, ${name}! Monthly gift of $${amount}.` : `Thanks, ${name}! One-time gift of $${amount}.`);
      form.reset(); setActive(null); selectedAmount = null;
    });

    function injectDonorToLeaderboard({ name, amount }) {
      const list = document.getElementById('donorList');
      const newEl = document.createElement('div');
      newEl.className = 'donor';
      newEl.innerHTML = `
      <div class="avatar" aria-hidden="true">üíõ</div>
      <div>
        <div class="name">${name || 'Anonymous'}</div>
        <div class="hint">New supporter</div>
      </div>
      <div style="text-align:right;">
        <div class="amt">$${amount.toLocaleString()}</div>
        <div class="rank">New</div>
      </div>`;
      list.appendChild(newEl);
    }

    /* ===================== HERO PARALLAX MICRO-SWAY ==================== */
    (function () {
      const wrap = document.getElementById('heroWrap'); const logo = document.getElementById('heroLogo');
      if (!wrap || !logo) return; let RAF = null;
      function onMove(e) {
        const r = wrap.getBoundingClientRect(); const x = (e.clientX - r.left) / r.width - 0.5; const y = (e.clientY - r.top) / r.height - 0.5;
        if (RAF) cancelAnimationFrame(RAF); RAF = requestAnimationFrame(() => { logo.style.transform = `translate(${x * 14}px, ${y * 14}px)`; });
      }
      wrap.addEventListener('pointermove', onMove);
    })();

    document.querySelector('.sunburst .sweep').style.setProperty('--beamspd', (8 + Math.random() * 6) + 's');

    /* ========================= VENDORS JS ============================ */
    const vendors = [
      { name: 'Menifee Motors', cat: 'Services', logo: 'assets/vendors/menifee-motors.jpg', url: '#', blurb: 'Trusted local auto care & sponsors.' },
      { name: 'Spice Route Kitchen', cat: 'Food', logo: 'assets/vendors/spice-route.jpg', url: '#', blurb: 'Homestyle Indian meals & catering.' },
      { name: 'Little Learners Academy', cat: 'Education', logo: 'assets/vendors/learners.jpg', url: '#', blurb: 'After-school & tutoring programs.' },
      { name: 'Saree & Shine Boutique', cat: 'Boutique', logo: 'assets/vendors/saree-shine.jpg', url: '#', blurb: 'Ethnic wear, jewelry & gifts.' },
      { name: 'Chai Junction', cat: 'Food', logo: 'assets/vendors/chai-junction.jpg', url: '#', blurb: 'Masala chai, snacks & sweets.' },
      { name: 'Heritage Lake Realty', cat: 'Services', logo: 'assets/vendors/heritage-realty.jpg', url: '#', blurb: 'Neighborhood real estate experts.' },
    ];

    function makeVendorCard(v) {
      const div = document.createElement('div');
      div.className = 'vendor-card';
      div.innerHTML = `
      <a href="${v.url}" target="_blank" rel="noopener" style="text-decoration:none;color:inherit;">
        <img src="${v.logo}" alt="${v.name}" onerror="if(this.src.indexOf('unsplash')===-1){this.src='https://images.unsplash.com/photo-1557683316-973673baf926?w=800&auto=format&fit=crop'}">
        <div class="name">${v.name}</div>
        <div class="cat pill">${v.cat}</div>
        <div class="hint" style="margin-top:6px;">${v.blurb}</div>
      </a>`;
      return div;
    }

    function renderVendors(filter = 'All') {
      const grid = document.getElementById('vendorGrid');
      if (!grid) return;
      grid.innerHTML = '';
      vendors
        .filter(v => filter === 'All' || v.cat === filter)
        .forEach(v => grid.appendChild(makeVendorCard(v)));
    }

    document.addEventListener('click', (e) => {
      const btn = e.target.closest('button[data-filter]');
      if (!btn) return;
      const val = btn.getAttribute('data-filter');
      renderVendors(val);
      toast(val === 'All' ? 'Showing all vendors' : 'Filtered: ' + val);
    });

    function renderVendorMarquee() {
      const track = document.getElementById('vendorMarquee');
      if (!track) return;
      function makeLogo(v) {
        const s = document.createElement('div'); s.className = 'gslide'; s.style.width = '280px'; s.style.height = '120px';
        const im = document.createElement('img'); im.src = v.logo; im.alt = v.name;
        im.onerror = () => { im.src = 'https://images.unsplash.com/photo-1557683316-973673baf926?w=800&auto=format&fit=crop'; };
        const lb = document.createElement('div'); lb.className = 'label'; lb.textContent = v.name;
        s.appendChild(im); s.appendChild(lb); return s;
      }
      [...vendors, ...vendors].forEach(v => track.appendChild(makeLogo(v)));

      let x = 0; const speed = 0.5;
      function loop() {
        x -= speed;
        const halfWidth = track.scrollWidth / 2;
        if (Math.abs(x) >= halfWidth) { x = 0; }
        track.style.transform = `translateX(${x}px)`;
        requestAnimationFrame(loop);
      }
      requestAnimationFrame(loop);
    }

    renderVendors('All');
    renderVendorMarquee();
  </script>
</body>

</html>
x