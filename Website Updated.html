<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aikyam • Menifee</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet" />

  
  <style>
    /* ===================== RESET & TOKENS ===================== */
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Montserrat',sans-serif;}
    :root{
      --maxw: 1320px;
      --pad-section: 92px;
      --header-h: 72px;
      --accent:#ffcc00; --accent-2:#ff9900;
      --bg:#000; --fg:#fff;
      --muted: rgba(255,255,255,.72);
      --card: rgba(255,255,255,.06);
      --brd: rgba(255,255,255,.14);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --shadow-2: 0 18px 42px rgba(255,204,0,.25);
      --gutter: clamp(26px, 3.5vw, 42px);
      --success: #21d07a;
      --danger: #ff5f5f;
    }
    body.light{
      --bg:#ffffff; --fg:#0f1115;
      --muted:#5b667a;
      --card:#f5f7fb;
      --brd:#e5e9f2;
      --shadow: 0 10px 26px rgba(0,0,0,.08);
      --shadow-2: 0 18px 38px rgba(0,0,0,.06);
    }
    html,body{height:100%;}
    html{scrollbar-gutter: stable both-edges;}
    body{background:var(--bg);color:var(--fg);overflow-x:hidden;line-height:1.75;}

    .tricolor{position:fixed;inset:0 auto auto 0;height:4px;width:100%;z-index:1500;
      background:linear-gradient(90deg,#FF9933 0 33%, #ffffff 33% 66%, #138808 66% 100%);
      box-shadow:0 0 20px rgba(255,153,0,.4);}

    #bg-zoom{position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
      pointer-events:none; z-index:0; opacity:.30; transition:opacity .3s ease;}
    body.light #bg-zoom{ opacity:.30; }
    #bg-zoom img{width:min(1200px, 90vw); height:auto; transform:scale(1);
      filter:drop-shadow(0 0 60px rgba(255,153,0,.25)); transition:filter .3s ease;}

    header{position:fixed;top:4px;left:0;right:0;height:var(--header-h);
      display:flex;align-items:center;justify-content:center;background:var(--bg);z-index:1400;
      border-bottom:1px solid var(--brd);backdrop-filter:saturate(120%) blur(8px);}
    .header-inner{width:var(--maxw);margin-inline:auto;display:flex;align-items:center;justify-content:space-between;padding:0 12px;}

    /* ====== NAV (updated for mobile) ====== */
    nav{ position: relative; }
    nav .nav-toggle{ display:none; font-size:24px; background:transparent; border:1px solid var(--brd); border-radius:10px; padding:6px 10px; cursor:pointer; color:var(--fg);}
    nav .nav-links{ display:flex; gap:14px; align-items:center; justify-content:center; flex-wrap:wrap; }
    nav a{display:inline-block;margin:0 6px;font-weight:800;color:var(--fg);opacity:.92;transition:.25s;text-decoration:none;}
    nav a:hover{color:var(--accent);text-shadow:0 0 12px rgba(255,204,0,.85),0 0 22px rgba(255,153,0,.5);}

    .theme-toggle{border:1px solid var(--brd);background:var(--card);color:var(--fg);padding:8px 12px;border-radius:999px;font-weight:800;cursor:pointer;}
    #scroll-progress{position:fixed;top:calc(var(--header-h) + 6px);left:0;height:3px;width:0;background:var(--accent);box-shadow:0 0 12px rgba(255,204,0,.9);z-index:999;}

    section{padding:var(--pad-section) var(--gutter);min-height:520px;position:relative; z-index:1;}
    .container{width:var(--maxw);margin-inline:auto;position:relative;}
    section::after{content:'';position:absolute;left:50%;transform:translateX(-50%);bottom:0;width:76%;height:1px;
      background:linear-gradient(90deg,transparent,var(--brd),transparent);opacity:.5}

    h2.section-title{text-align:center;font-size:44px;letter-spacing:.6px;font-weight:900;margin-bottom:30px;}
    h2.section-title::after{content:'';display:block;width:220px;height:4px;margin:14px auto 0;border-radius:999px;
      background:radial-gradient(closest-side,var(--accent),transparent);filter:blur(.4px);animation:underlinePulse 3s ease-in-out infinite;}
    @keyframes underlinePulse{0%,100%{transform:scaleX(.9);opacity:.85} 50%{transform:scaleX(1.15);opacity:1}}

    .hero{min-height:760px;padding-top:calc(var(--header-h) + 38px);display:flex;align-items:center;justify-content:center;flex-direction:column;}
    .hero .container{display:flex;align-items:center;justify-content:space-between;gap:44px;flex-wrap:wrap;}
    .hero-left{flex:1;min-width:320px}
    .hero-right{flex:1;display:flex;align-items:center;justify-content:center;position:relative;visibility:hidden;}
    .tagline{font-size:20px;color:var(--muted);margin-bottom:16px}
    .cta-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:18px}
    .btn{padding:12px 16px;border:none;background:#fff;color:#121212;font-weight:900;border-radius:999px;cursor:pointer;transition:.25s;font-size:14px;text-decoration:none;display:inline-flex;align-items:center;gap:8px;position:relative;overflow:hidden;}
    .btn:hover{transform:translateY(-2px);box-shadow:0 12px 24px rgba(0,0,0,.25),0 0 16px var(--accent),0 0 24px var(--accent-2);}
    .btn.secondary{background:var(--card);color:var(--fg);border:1px solid var(--brd)}
    .btn.mini{padding:8px 12px;font-size:12px;}
    .btn.link{background:var(--accent); color:#121212;}
    .btn.link:hover{box-shadow:0 12px 24px rgba(255,204,0,.35),0 0 16px var(--accent),0 0 24px var(--accent-2);}

    .sunburst{position:absolute;width:640px;height:640px;border-radius:50%;z-index:0;filter:saturate(1.05);}
    .sunburst::before{content:'';position:absolute;inset:0;border-radius:50%;
      background:radial-gradient(circle at 50% 50%, rgba(255,153,0,.18), transparent 60%);
      box-shadow:0 0 36px 8px rgba(255,204,0,.18) inset;}
    .sunburst .sweep{
      position:absolute;inset:0;border-radius:50%;
      background:conic-gradient(from 0deg, rgba(255,204,0,.45) 0deg, rgba(255,204,0,.18) 14deg, rgba(255,204,0,0) 40deg 360deg);
      filter:blur(1px);
      animation:beam-spin var(--beamspd,10s) linear infinite;
    }
    @keyframes beam-spin{to{transform:rotate(360deg)}}
    .hero-logo-wrap{position:relative;z-index:1;filter:drop-shadow(0 0 22px rgba(255,153,0,.22)) drop-shadow(0 0 48px rgba(255,153,0,.08));}
    .hero-logo{width:560px;max-width:90%;
      -webkit-mask-image:radial-gradient(circle at 50% 50%, rgba(255,255,255,1) 62%, rgba(255,255,255,.35) 78%, transparent 90%);
              mask-image:radial-gradient(circle at 50% 50%, rgba(255,255,255,1) 62%, rgba(255,255,255,.35) 78%, transparent 90%);
      transition:transform .3s ease;}

    .countdown{display:flex;gap:10px;margin-top:12px;font-weight:900;flex-wrap:wrap;}
    .countdown .k{padding:8px 12px;border-radius:12px;background:var(--card);border:1px solid var(--brd);min-width:80px;text-align:center}
    .next-title{font-size:18px;font-weight:900;margin-top:16px}

    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:26px;width:100%;margin:6px auto 22px;}
    .person-card{background:var(--card);padding:26px;border:1px solid var(--brd);border-radius:18px;text-align:center;backdrop-filter:blur(4px);transition:transform .35s ease, box-shadow .35s ease; box-shadow:var(--shadow);}
    .person-card:hover{transform:translateY(-8px) scale(1.03);box-shadow:var(--shadow-2);}
    .person-card img{width:180px;height:180px;border-radius:50%;object-fit:cover;margin-bottom:12px;transition:.4s ease;}
    .person-card:hover img{transform:rotate(5deg) scale(1.05);}
    .person-card .name{font-weight:900;font-size:21px;}
    .person-card .role{opacity:.9;margin-top:4px;}
    .chip-mini{padding:6px 10px;border-radius:999px;background:var(--card);border:1px solid var(--brd);font-size:12px}

    .events-3col{
      display:grid;
      grid-template-columns:minmax(340px, 1fr) minmax(420px, 560px) minmax(360px, 1fr);
      gap:22px;align-items:start;
    }
    @media (max-width:1200px){.events-3col{grid-template-columns:1fr;}}

    .subhead{font-size:22px;font-weight:900;margin:0 0 10px;text-align:center;}

    .vloop{height:580px;overflow:hidden;position:relative;border-radius:16px;border:1px solid var(--brd);background:var(--card);}
    .vtrack{display:grid;gap:16px;animation:vscroll var(--vspd,36s) linear infinite;will-change:transform;padding:16px;}
    @keyframes vscroll{0%{transform:translateY(0)}100%{transform:translateY(-50%)}}

    .event-card{background:var(--bg);border:1px solid var(--brd);border-radius:14px;overflow:hidden;box-shadow:var(--shadow);}
    .event-thumb{position:relative;height:160px;overflow:hidden;}
    .event-thumb img{width:100%;height:100%;object-fit:cover;transform:scale(1.02);}
    .event-body{padding:12px 14px 14px;}
    .event-meta{display:flex;align-items:center;gap:10px;font-size:12px;opacity:.9;margin:4px 0 6px;}
    .pill{display:inline-block;padding:4px 8px;border-radius:999px;font-weight:800;font-size:11px;background:var(--card);border:1px solid var(--brd);}
    .event-title{font-weight:900;font-size:16px;margin-bottom:4px;}
    .event-desc{font-size:13px;opacity:.9;}
    .event-actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap;}

    #gallery .wrap{overflow:hidden;border-radius:16px;border:1px solid var(--brd);background:var(--card);box-shadow:var(--shadow);}
    .gtrack{ display:flex; gap:22px; padding:18px; will-change:transform; }
    .gslide{ flex:0 0 auto; width:440px; height:268px; border-radius:16px; overflow:hidden; position:relative; background:#0b0b0b; box-shadow:var(--shadow); }
    .gslide img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; animation:ken 12s ease-in-out infinite alternate; }
    .gslide .label{ position:absolute; left:10px; bottom:10px; background:rgba(0,0,0,.5); border:1px solid var(--brd); border-radius:10px; padding:6px 10px; font-size:13px; font-weight:800; }
    @keyframes ken{0%{transform:scale(1.05)}100%{transform:scale(1.12) translate(8px,-6px)}}

    .card{background:var(--card);border:1px solid var(--brd);border-radius:18px;padding:22px;box-shadow:var(--shadow);}
    .hint{font-size:12px;color:var(--muted);}
    #contact-section .contact{width:980px;max-width:100%;margin:0 auto;text-align:center;font-size:22px;display:flex;flex-direction:column;gap:10px;}
    #contact-section a{color:var(--accent);font-weight:900;text-decoration:none;}
    #contact-section a:hover{color:var(--accent-2);text-shadow:0 0 10px rgba(255,153,0,.9);}
    footer{background:var(--bg);color:var(--fg);text-align:center;padding:28px;margin-top:20px;border-top:1px solid var(--brd); z-index:1; position:relative;}

    /* ======== Register (Google Form) ======== */
    #register .reg-wrap{width:min(1200px,100%);margin:0 auto;display:grid;grid-template-columns:1fr;gap:28px;align-items:start;}
    .embed{border-radius:18px; overflow:hidden; border:1px solid var(--brd); background:var(--bg); box-shadow:var(--shadow);}
    .embed-head{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:16px 18px; border-bottom:1px solid var(--brd); background:var(--card);}
    .embed-head .title{font-weight:900;}
    .embed-body{padding:0; height:min(1100px, 80vh);}
    .embed iframe{width:100%; height:100%; border:0;}
    .badge{display:inline-block;padding:6px 10px;border-radius:999px;background:var(--card);border:1px solid var(--brd);font-size:12px;font-weight:800;}

    /* ===================== DONATE — NEW PRETTY LAYOUT ===================== */
    #donate .donate-grid{
      display:grid; grid-template-columns:2fr 1.1fr; gap:22px; align-items:stretch;
    }
    @media (max-width:1100px){ #donate .donate-grid{ grid-template-columns:1fr; } }

    .donate-hero{
      position:relative; overflow:hidden; border-radius:22px; padding:24px; border:1px solid var(--brd);
      background:
        radial-gradient(1200px 500px at -20% -40%, rgba(255,204,0,.18), transparent 60%),
        radial-gradient(900px 500px at 120% 120%, rgba(255,153,0,.16), transparent 60%),
        var(--card);
      box-shadow:var(--shadow);
    }
    .donate-hero h3{font-size:30px; line-height:1.15; margin-bottom:6px;}
    .donate-hero p{color:var(--muted); margin-bottom:14px;}
    .donate-hero .progress{height:12px; background:rgba(255,255,255,.08); border:1px solid var(--brd);
      border-radius:999px; overflow:hidden; margin:12px 0 10px;}
    .donate-hero .bar{height:100%; width:0%; background:linear-gradient(90deg, var(--accent), var(--accent-2)); box-shadow:0 0 16px rgba(255,204,0,.45); transition:width .8s ease;}
    .donate-hero .meta{display:flex; gap:10px; align-items:center; font-weight:900; font-size:12px; opacity:.9;}
    .donate-hero .meta .pill{background:rgba(255,204,0,.12); border-color:rgba(255,204,0,.35);}

    .donation-form{
      margin-top:18px; background:var(--bg); border:1px solid var(--brd); border-radius:18px; padding:18px;
    }
    .input-row{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
    @media (max-width:700px){ .input-row{grid-template-columns:1fr;} }
    .input, select{
      width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--brd); background:var(--card); color:var(--fg); outline:none;
    }
    .amount-grid{display:flex; flex-wrap:wrap; gap:10px; margin:14px 0 8px;}
    .amount-btn{
      border:1px solid var(--brd); background:var(--card); color:var(--fg); border-radius:12px; padding:10px 14px; font-weight:900; cursor:pointer;
      transition:.2s; user-select:none;
    }
    .amount-btn.active, .amount-btn:hover{ outline:2px solid rgba(255,204,0,.55); transform:translateY(-2px); }
    .custom-amount{display:flex; gap:8px; align-items:center; margin-top:8px;}
    .custom-amount input{width:120px; text-align:center;}

    .donate-actions{display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin-top:12px;}
    .switch{display:inline-flex; align-items:center; gap:8px; font-size:12px;}
    .switch input{appearance:none; width:42px; height:24px; border-radius:999px; background:var(--card); border:1px solid var(--brd); position:relative; outline:none; cursor:pointer;}
    .switch input::after{content:''; position:absolute; left:3px; top:3px; width:18px; height:18px; border-radius:50%; background:#fff; transition:transform .2s;}
    body.light .switch input::after{background:#0f1115;}
    .switch input:checked{background:linear-gradient(90deg,var(--accent),var(--accent-2));}
    .switch input:checked::after{transform:translateX(18px);}

    /* ======== TOP DONORS ======== */
    .leaderboard{border-radius:22px; overflow:hidden; background:var(--card); border:1px solid var(--brd); box-shadow:var(--shadow); display:flex; flex-direction:column;}
    .leaderboard .head{display:flex; align-items:center; justify-content:space-between; padding:16px 18px; border-bottom:1px solid var(--brd); background:linear-gradient(90deg, rgba(255,204,0,.12), transparent);}
    .leaderboard .head .title{font-weight:900;}
    .donor-list{padding:12px;}
    .donor{display:grid; grid-template-columns:auto 1fr auto; gap:12px; align-items:center; padding:12px; border:1px solid var(--brd); background:var(--bg); border-radius:14px; margin-bottom:10px; transition:.2s;}
    .donor:hover{transform:translateY(-2px); box-shadow:var(--shadow-2);}
    .avatar{width:46px; height:46px; border-radius:50%; display:grid; place-items:center; font-weight:900; color:#121212; background:linear-gradient(180deg,var(--accent),var(--accent-2)); border:2px solid rgba(255,255,255,.65); box-shadow:0 0 0 3px rgba(255,204,0,.2);}
    body.light .avatar{ color:#0f1115; }
    .donor .name{font-weight:900;}
    .donor .amt{font-weight:900;}
    .rank{font-weight:900; font-size:12px;}
    .rank.gold{color:#ffd700;} .rank.silver{color:#c0c0c0;} .rank.bronze{color:#cd7f32;}

    /* ======== MEMBERS (NEW) ======== */
    #members .reg-wrap{ width:min(1200px,100%); margin:0 auto; display:grid; grid-template-columns:2fr 1fr; gap:18px; align-items:start; }
    @media (max-width:900px){ #members .reg-wrap{ grid-template-columns:1fr; } }
    #members .embed-body{ height: min(1000px, 80vh); }
    #members .card ul{ margin-left:18px; line-height:1.9; }

    /* ======== VENDORS (NEW) ======== */
    .vendor-card{background:var(--card);padding:22px;border:1px solid var(--brd);border-radius:18px;text-align:center;box-shadow:var(--shadow);transition:.3s;}
    .vendor-card:hover{transform:translateY(-6px) scale(1.02); box-shadow:var(--shadow-2);}
    .vendor-card img{width:140px;height:140px;object-fit:cover;border-radius:16px;margin-bottom:10px;border:1px solid var(--brd);}
    .vendor-card .name{font-weight:900;font-size:18px;}
    .vendor-card .cat{font-size:12px; opacity:.85; margin-top:2px;}
    #vendorGrid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:14px; }
    #vendorMarquee .gslide{ width:280px; height:120px; }

    /* ======== Reveal, Toast, etc. ======== */
    .reveal{opacity:0;transform:translateY(18px);transition:opacity .6s ease, transform .6s ease;}
    .reveal.show{opacity:1;transform:translateY(0);}
    #toTop{position:fixed;right:18px;bottom:84px;width:46px;height:46px;border-radius:50%;
      background:rgba(0,0,0,.7);border:1px solid rgba(255,255,255,.2);
      display:flex;align-items:center;justify-content:center;color:#fff;font-weight:900;cursor:pointer;
      box-shadow:0 0 16px rgba(255,204,0,.25);z-index:1200;opacity:0;transform:translateY(12px);transition:.3s;}
    body.light #toTop{ background:#ffffff; color:#0f1115; border-color:#d7dce6; }
    #toTop.show{opacity:1;transform:translateY(0);}
    #toast{position:fixed;left:50%;bottom:72px;transform:translateX(-50%);background:rgba(0,0,0,.76);
      border:1px solid rgba(255,255,255,.18);padding:10px 14px;border-radius:10px;font-weight:800;letter-spacing:.3px;
      opacity:0;transition:opacity .25s, transform .25s;z-index:1200;pointer-events:none;}
    body.light #toast{background:#16181d;color:#fff;border-color:#2a2f3a;}
    #toast.show{opacity:1;transform:translateX(-50%) translateY(-6px);}

    /* ==================== Responsive Enhancements ==================== */
    :root{ --nav-h: 64px; }
    @media (max-width: 1024px){
      .section-title{ font-size: clamp(22px, 3.2vw, 32px); }
      .gslide{ width:360px; height:220px; }
    }
    @media (max-width: 768px){
      nav .nav-toggle{ display:block; position:absolute; left:-8px; top:-2px; }
      nav .nav-links{ display:none; padding-top: 10px; }
      header.open nav .nav-links{ display:flex; }
      header{ min-height: var(--nav-h); }
      .cards{ grid-template-columns: 1fr 1fr; }
      .vendor-card img{ width:110px; height:110px; }
    }
    @media (max-width: 520px){
      .cards{ grid-template-columns: 1fr; }
      .vendor-card{ padding:16px; }
      .vendor-card img{ width:88px; height:88px; }
      #members .embed-body{ height: 72vh; }
    }
  
/* ======== CALENDAR STYLES ======== */
.calendar-card{
  border:1px solid var(--brd);
  border-radius:18px;
  background:var(--card);
  padding:14px;
  box-shadow:var(--shadow);
}
.calendar-head{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:10px;font-weight:900;
}
.calendar-grid{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:4px;
  text-align:center;
  margin-bottom:10px;
}
.calendar-grid .cal-cell{
  padding:6px;
  border-radius:6px;
  font-size:13px;
}
.calendar-grid .cal-cell.has{ background:var(--accent); color:#121212; font-weight:900; }
.calendar-grid .cal-cell.mute{ opacity:.4; }
.schedule .sch-item{
  border-top:1px solid var(--brd);
  padding:6px 0;
  font-size:13px;
}
.schedule .sch-item .t{ font-weight:900; }
.schedule .sch-item .d{ opacity:.8; font-size:12px; }
.schedule .sch-item .a{ margin-top:4px; display:flex; gap:6px; flex-wrap:wrap; }

</style>
</head>

<body>
  <div class="tricolor" aria-hidden="true"></div>

  <div id="bg-zoom" aria-hidden="true">
    <img id="bgZoomImg" src="pictures/6.png" alt="">
  </div>

  <header class="reveal" id="siteHeader">
    <div class="header-inner">
      <div>
        <div class="sunburst" aria-hidden="true" style="width:80px;height:80px;"><div class="sweep"></div></div>
        <div class="hero-logo-wrap" id="heroWrap" style="margin: 3px;">
          <img class="hero-logo" id="heroLogo" src="pictures/5-modified.png" alt="Aikyam Logo" style="width:70px;height:70px;">
        </div>
      </div>

      <!-- ===== Updated NAV with mobile toggle ===== -->
      <nav>
        <button class="nav-toggle" id="navToggle" aria-label="Toggle menu" aria-expanded="false">☰</button>
        <div class="nav-links">
          <a href="#home">Home</a>
          <a href="#core">Core Team</a>
          <a href="#board">Board</a>
          <a href="#events">Events</a>
          <a href="#gallery">Gallery</a>
          <a href="#reviews-section">Reviews</a>
          <a href="#members">Members</a>
          <a href="#vendors">Vendors</a>
          <a href="#register">Register</a>
          <a href="#donate">Donate</a>
          <a href="#contact-section">Contact</a>
        </div>
      </nav>

      <button class="theme-toggle" id="themeToggle"> ☀/🌙</button>
    </div>
  </header>

  <div id="scroll-progress"></div>

  <section class="hero" id="home">
    <div class="container">
      <div class="hero-left">
        <h1 style="font-size:56px;line-height:1.1;">Unity in Diversity,<br/>Community in Action</h1>
        <p class="tagline">Aikyam brings Menifee families together to celebrate culture, volunteer, and create chances for kids to shine.</p>
        <div class="next-title">Next up: <span id="nextEventTitle">—</span></div>
        <div class="countdown" id="countdown" aria-label="countdown"></div>
        <div class="cta-row">
          <a class="btn" href="#events">See Events</a>
          <a class="btn secondary" href="#register">Register</a>
          <a class="btn secondary" target="_blank" rel="noopener" href="https://www.youtube.com/@BalaramnaiduDowney">YouTube</a>
        </div>
      </div>
      <div class="hero-right">
        <div class="sunburst" aria-hidden="true"><div class="sweep"></div></div>
        <div class="hero-logo-wrap">
          <img class="hero-logo" src="pictures/6.png" alt="Aikyam Logo">
        </div>
      </div>
    </div>
  </section>

  <section id="core" class="reveal">
    <div class="container">
      <h2 class="section-title">Core Team</h2>
      <div class="cards" id="coreCards"></div>
      <div class="mv">
        <h4>Mission</h4>
        <p>To inspire and empower the next generation by nurturing cultural pride, fostering community unity, and creating opportunities for children and families to celebrate, learn, and grow together.</p>
        <h4 style="margin-top:10px;">Vision</h4>
        <p>A vibrant, inclusive home where every family belongs, every child leads with pride, and our diversity strengthens the city we love.</p>
      </div>
    </div>
  </section>

  <section id="board" class="reveal">
    <div class="container">
      <h2 class="section-title">Board of Directors</h2>
      <div class="cards" id="boardCards"></div>
    </div>
  </section>

  <section id="events" class="reveal">
    <div class="container">
      <h2 class="section-title">Events</h2>
      <div class="events-3col">
        <div class="col l">
          <h3 class="subhead">Past Events</h3>
          <div class="vloop" id="pastVLoop" style="--vspd:38s"></div>
        </div>
        <div class="col m">
          <h3 class="subhead">Calendar</h3>
          <div class="calendar-card">
            <div class="calendar-head">
              <strong>Mini Calendar</strong>
              <span class="pill" id="calendarMonth"></span>
            </div>
            <div class="calendar-grid" id="calendarGrid" aria-label="Mini Calendar"></div>
            <div class="schedule" id="upcomingSchedule" aria-label="Upcoming schedule"></div>
          </div>
        </div>
        <div class="col r">
          <h3 class="subhead">Upcoming Events</h3>
          <div class="vloop" id="upVLoop" style="--vspd:44s"></div>
        </div>
      </div>
    </div>
  </section>

  <section id="gallery" class="reveal">
    <div class="container">
      <h2 class="section-title">Moments</h2>
      <div class="wrap">
        <div class="gtrack" id="gtrack"></div>
      </div>
    </div>
  </section>

  <section id="reviews-section" class="reveal">
    <div class="container">
      <h2 class="section-title">Member Reviews</h2>
      <div class="reviews" style="display:flex;gap:18px;justify-content:center;align-items:stretch;width:var(--maxw);margin:0 auto;">
        <div class="review card">“Wonderful platform to celebrate culture and connect with families.”</div>
        <div class="review card">“Kids loved participating in the festivities and activities.”</div>
        <div class="review card">“Great community spirit and well organized events.”</div>
      </div>
    </div>
  </section>

  <!-- ============================== MEMBERS (NEW) =================== -->
  <section id="members" class="reveal">
    <div class="container">
      <h2 class="section-title">Become a Member</h2>
      <div class="reg-wrap">
        <div class="embed">
          <div class="embed-head">
            <span class="badge">Community Membership</span>
            <div style="display:flex;gap:10px;align-items:center;">
              <span class="hint">Prefer a new tab?</span>
              <a class="btn link" target="_blank" rel="noopener" href="https://forms.gle/jTLazxmQaGQxHDDEA">Open Google Form</a>
            </div>
          </div>
          <div class="embed-body">
            <iframe src="https://forms.gle/jTLazxmQaGQxHDDEA" allow="payment *; clipboard-write *;"></iframe>
          </div>
        </div>

        <div class="card">
          <h3 style="margin-bottom:6px;">Member Perks</h3>
          <ul>
            <li>Priority access to cultural nights & kid showcases</li>
            <li>Member-only updates & volunteer sign-ups</li>
            <li>Early bird pricing for major events</li>
            <li>Vendor discounts from our partners</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================== REGISTER (EMBED) =================== -->
  <section id="register" class="reveal">
    <div class="container">
      <h2 class="section-title">Register</h2>
      <div class="reg-wrap">
        <div class="embed">
          <div class="embed-head">
            <span class="badge">Official Form</span>
            <div style="display:flex;gap:10px;align-items:center;">
              <span class="hint">Prefer a new tab?</span>
              <a class="btn link" target="_blank" rel="noopener" href="https://forms.gle/QVvLzs9ZRPxx1EYv9">Open Google Form</a>
            </div>
          </div>
          <div class="embed-body">
            <iframe src="https://forms.gle/QVvLzs9ZRPxx1EYv9" allow="payment *; clipboard-write *;"></iframe>
          </div>
        </div>

        <div class="card">
          <h3 style="margin-bottom:6px;">Tips</h3>
          <div class="hint">After you submit, you’ll see a confirmation message from Google Forms. If the form doesn’t load, click “Open Google Form”.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- =============================== VENDORS (NEW) ============================ -->
  <section id="vendors" class="reveal">
    <div class="container">
      <h2 class="section-title">Vendors & Partners</h2>
      <div class="card" style="margin-bottom:14px;">
        <div style="display:flex; flex-wrap:wrap; gap:8px; align-items:center; justify-content:center; margin-bottom:10px;">
          <span class="pill">Filter:</span>
          <button class="btn mini secondary" data-filter="All">All</button>
          <button class="btn mini secondary" data-filter="Food">Food</button>
          <button class="btn mini secondary" data-filter="Boutique">Boutique</button>
          <button class="btn mini secondary" data-filter="Education">Education</button>
          <button class="btn mini secondary" data-filter="Services">Services</button>
        </div>
        <div id="vendorGrid"></div>
        <div class="hint" style="text-align:center; margin-top:8px;">Want to be listed? Email <a href="mailto:info@aikyam.com">info@aikyam.com</a> with your logo, category, and a short blurb.</div>
      </div>

      <div class="wrap" style="overflow:hidden;border-radius:16px;border:1px solid var(--brd);background:var(--card);box-shadow:var(--shadow);">
        <div id="vendorMarquee" class="gtrack" style="gap:18px; padding:14px;"></div>
      </div>
    </div>
  </section>

  <!-- =============================== DONATE (PRETTY + TOP DONORS) ============================ -->
  <section id="donate" class="reveal">
    <div class="container">
      <h2 class="section-title">Support Aikyam</h2>

      <div class="donate-grid">
        <!-- Left: Fancy donation hero + form -->
        <div class="donate-hero">
          <div class="sunburst" aria-hidden="true" style="width:220px;height:220px; right:-60px; top:-60px; position:absolute; opacity:.8;"><div class="sweep"></div></div>

          <h3>Help power culture, service, and youth leadership</h3>
          <p>Every dollar supports events, kids’ activities, and community service projects in Menifee.</p>

          <div class="progress" aria-label="progress to goal">
            <div id="donationBar" class="bar"></div>
          </div>
          <div class="meta">
            <span class="pill">Goal: <span id="goalLbl">$5,000</span></span>
            <span class="pill">Raised: <span id="raisedLbl">$2,860</span></span>
            <span class="pill">Donors: <span id="donorsLbl">73</span></span>
          </div>

          <!-- Form -->
          <form class="donation-form" id="donationForm">
            <div class="input-row">
              <input class="input" type="text" id="donorName" placeholder="Your Name" required>
              <input class="input" type="email" id="donorEmail" placeholder="Your Email" required>
            </div>

            <div style="margin-top:12px;">
              <div class="hint" style="margin-bottom:6px;">Choose an amount</div>
              <div class="amount-grid" id="amountGrid">
                <button type="button" class="amount-btn" data-amt="10">$10</button>
                <button type="button" class="amount-btn" data-amt="25">$25</button>
                <button type="button" class="amount-btn" data-amt="50">$50</button>
                <button type="button" class="amount-btn" data-amt="100">$100</button>
                <button type="button" class="amount-btn" data-amt="250">$250</button>
                <button type="button" class="amount-btn" data-amt="500">$500</button>
              </div>

              <div class="custom-amount">
                <span class="pill">Custom</span>
                <input class="input" type="number" id="customAmount" min="1" step="1" placeholder="$ Amount">
              </div>
            </div>

            <div class="donate-actions">
              <label class="switch">
                <input type="checkbox" id="recurring">
                <span>Make this monthly</span>
              </label>
              <button type="submit" class="btn">Donate Now</button>
              <span id="donateMsg" class="hint"></span>
            </div>
          </form>
        </div>

        <!-- Right: Top Donors -->
        <aside class="leaderboard">
          <div class="head">
            <span class="title">Top Donors</span>
            <span class="pill">This Month</span>
          </div>
          <div class="donor-list" id="donorList">
            <div class="donor">
              <div class="avatar" aria-hidden="true">🥇</div>
              <div>
                <div class="name">Priya N.</div>
                <div class="hint">“For the kids’ cultural night!”</div>
              </div>
              <div style="text-align:right;">
                <div class="amt">$750</div>
                <div class="rank gold">#1</div>
              </div>
            </div>
            <div class="donor">
              <div class="avatar" aria-hidden="true">🥈</div>
              <div>
                <div class="name">Arjun & Meera</div>
                <div class="hint">Community Service Day</div>
              </div>
              <div style="text-align:right;">
                <div class="amt">$500</div>
                <div class="rank silver">#2</div>
              </div>
            </div>
            <div class="donor">
              <div class="avatar" aria-hidden="true">🥉</div>
              <div>
                <div class="name">Menifee Motors</div>
                <div class="hint">Local business sponsor</div>
              </div>
              <div style="text-align:right;">
                <div class="amt">$300</div>
                <div class="rank bronze">#3</div>
              </div>
            </div>
          </div>
        </aside>
      </div>

      <div class="hint" style="margin-top:12px;text-align:center;">Want to be featured? Large gifts and recurring support help us plan bigger opportunities for kids. 💛</div>
    </div>
  </section>

  <section id="contact-section" class="reveal">
    <div class="container">
      <h2 class="section-title">Contact Us</h2>
      <div class="contact">
        <p>Email: <a href="mailto:info@aikyam.com">info@aikyam.com</a></p>
        <p class="hint">Volunteer? Please reach out to <strong>Sowjanya Reddy Jagganna</strong>.</p>
        <p>Follow us:</p>
        <p>
          <a target="_blank" rel="noopener" href="https://www.youtube.com/@BalaramnaiduDowney">YouTube</a> |
          <a href="#">Facebook</a> |
          <a href="#">Instagram</a> |
          <a href="#">Twitter</a>
        </p>
      </div>
    </div>
  </section>

  <canvas id="fireworks-canvas"></canvas>
  <div id="toTop" title="Back to top">↑</div>
  <div id="toast"></div>
  <footer>
    &copy; 2025 Aikyam - Menifee, California • All Rights Reserved •
    <a target="_blank" rel="noopener" href="https://www.youtube.com/@BalaramnaiduDowney" style="color:var(--accent);font-weight:900;">Our YouTube</a>
  </footer>

  <script>
  /* ===================== THEME TOGGLE (persisted) ==================== */
  const themeToggle = document.getElementById('themeToggle');
  (function initTheme(){
    const saved = localStorage.getItem('aikyam_theme') || 'dark';
    if(saved==='light') document.body.classList.add('light');
    themeToggle.addEventListener('click', ()=>{
      document.body.classList.toggle('light');
      localStorage.setItem('aikyam_theme', document.body.classList.contains('light')?'light':'dark');
    });
  })();

  /* ================== MOBILE NAV TOGGLE ================== */
  (function(){
    const header = document.getElementById('siteHeader');
    const btn = document.getElementById('navToggle');
    if(!btn) return;
    btn.addEventListener('click', ()=>{
      const open = header.classList.toggle('open');
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
  })();

  /* ================== SCROLL PROGRESS & BACK-TO-TOP ================== */
  (function(){
    const btn=document.getElementById('toTop');
    const prog=document.getElementById('scroll-progress');
    function onScroll(){
      const y=window.scrollY; const h=document.documentElement.scrollHeight - window.innerHeight;
      const pct=Math.max(0, Math.min(1, y/h)); prog.style.width=(pct*100)+'%';
      if(y>280) btn.classList.add('show'); else btn.classList.remove('show');
    }
    window.addEventListener('scroll',onScroll,{passive:true}); onScroll();
    btn.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));
  })();

  /* ====================== BUTTON RIPPLE EFFECT ======================= */
  document.addEventListener('click', (e)=>{
    const b = e.target.closest('.btn');
    if(!b) return;
    const r = document.createElement('span'); r.className='r';
    const rect=b.getBoundingClientRect(); r.style.left=(e.clientX-rect.left)+'px'; r.style.top=(e.clientY-rect.top)+'px';
    b.appendChild(r); setTimeout(()=>r.remove(), 620);
  });

  /* =================== BACKGROUND ZOOM ON SCROLL ===================== */
  (function(){
    const img = document.getElementById('bgZoomImg');
    function onScroll(){
      const doc = document.documentElement;
      const max = Math.max(1, doc.scrollHeight - window.innerHeight);
      const p = window.scrollY / max;
      const scale = 1 + p * 0.8;
      img.style.transform = `scale(${scale})`;
    }
    window.addEventListener('scroll', onScroll, {passive:true});
    onScroll();
  })();

  /* ======================= REVEAL ON INTERSECT ======================= */
  (function(){
    const io=new IntersectionObserver(es=>{es.forEach(e=>{if(e.isIntersecting) e.target.classList.add('show');})},{threshold:.22});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
  })();

  /* ========================= DATA: EVENTS ============================ */
  const upcomingEvents = [
    { id:'evt_ganesh25', title:'Ganesh Chaturthi',
      start:'2025-09-07T17:00:00', end:'2025-09-07T20:00:00', location:'Menifee Community Center', price:0,
      img:'assets/events/ganesh.jpg',
      fallback:'https://images.unsplash.com/photo-1600011689032-8c3e7b80eb75?q=80&w=1200&auto=format&fit=crop',
      desc:'Community puja, aarthi, and prasadam. Family friendly.' },
    { id:'evt_service25', title:'Community Service Day',
      start:'2025-09-28T09:00:00', end:'2025-09-28T12:00:00', location:'Alderwood Park', price:0,
      img:'assets/events/service-day.jpg',
      fallback:'https://images.unsplash.com/photo-1488459716781-31db52582fe9?q=80&w=1200&auto=format&fit=crop',
      desc:'Park clean-up & care packages. Service hours for students.' },
    { id:'evt_navratri25', title:'Navratri Garba Night',
      start:'2025-10-04T18:30:00', end:'2025-10-04T22:00:00', location:'Heritage Lake Clubhouse', price:15,
      img:'assets/events/garba.jpg',
      fallback:'https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?q=80&w=1200&auto=format&fit=crop',
      desc:'Traditional garba & dandiya. Dress in your best!' },
    { id:'evt_mg_oct31', title:'Meet & Greet',
      start:'2025-10-31T18:00:00', end:'2025-10-31T19:30:00', location:'TBD', price:0,
      img:'assets/events/meet-greet.jpg',
      fallback:'https://images.unsplash.com/photo-1521737604893-d14cc237f11d?q=80&w=1200&auto=format&fit=crop',
      desc:'Casual networking and community-building session.' },
    { id:'evt_diwali25', title:'Diwali Mela & Cultural Night',
      tbd:true, location:'TBD', price:25,
      img:'assets/events/diwali.jpg',
      fallback:'https://images.unsplash.com/photo-1545424273-19f5aa36a2fa?q=80&w=1200&auto=format&fit=crop',
      desc:'Festival of Lights — November (date TBD).' },
  ];
  const completedEvents = [
    { id:'past_pongal', title:'Pongal Festival', date:'2025-01-18',
      img:'assets/events/past-pongal.jpg',
      fallback:'https://images.unsplash.com/photo-1542367597-8849eb00b2c2?q=80&w=1200&auto=format&fit=crop',
      summary:'Harvest celebrations with traditional food & festivities.' },
    { id:'past_ugadhi', title:'Ugadhi', date:'2025-03-30',
      img:'assets/events/past-ugadi.jpg',
      fallback:'https://images.unsplash.com/photo-1578926374377-5a3f78c19c6f?q=80&w=1200&auto=format&fit=crop',
      summary:'Telugu New Year with joy, culture, tradition.' },
    { id:'past_independence', title:'Independence Day Celebration', date:'2025-08-15',
      img:'assets/events/past-independence.jpg',
      fallback:'https://images.unsplash.com/photo-1591604466107-ec97de577aff?q=80&w=1200&auto=format&fit=crop',
      summary:"Pride, parade, and community spirit." },
  ];

  function makeImage(src, fallback, alt){
    const im=document.createElement('img');
    im.src = src; im.alt = alt || '';
    if(fallback){ im.onerror = ()=>{ if(im.src !== fallback) im.src = fallback; }; }
    return im;
  }

  function buildVLoop(hostId, items, renderCard){
    const host = document.getElementById(hostId);
    host.innerHTML = '';
    const track = document.createElement('div'); track.className='vtrack';
    const dup   = document.createElement('div'); dup.className='vtrack';
    items.forEach((it, i)=> track.appendChild(renderCard(it, i)));
    items.forEach((it, i)=> dup.appendChild(renderCard(it, i + items.length)));
    const wrap = document.createElement('div'); wrap.style.display='grid'; wrap.style.gap='16px';
    wrap.appendChild(track); wrap.appendChild(dup);
    host.appendChild(wrap);
  }

  function renderPastCard(ev){
    const card = document.createElement('div'); card.className='event-card';
    const th = document.createElement('div'); th.className='event-thumb';
    th.appendChild(makeImage(ev.img, ev.fallback, ev.title));
    const body = document.createElement('div'); body.className='event-body';
    body.innerHTML = `
      <div class="event-title">${ev.title}</div>
      <div class="event-meta"><span class="pill">Completed</span><span>${new Date(ev.date).toLocaleDateString()}</span></div>
      <div class="event-desc">${ev.summary}</div>`;
    card.appendChild(th); card.appendChild(body);
    return card;
  }
  function makeICSDataURI(ev){
    const dt = (s)=> new Date(s).toISOString().replace(/[-:]/g,'').split('.')[0]+'Z';
    const uid = ev.id+'@aikyam';
    const ics = [
      'BEGIN:VCALENDAR','VERSION:2.0','PRODID:-//Aikyam//Events//EN','CALSCALE:GREGORIAN','BEGIN:VEVENT',
      `UID:${uid}`,`DTSTAMP:${dt(new Date())}`,`DTSTART:${dt(ev.start)}`,`DTEND:${dt(ev.end)}`,
      `SUMMARY:${ev.title}`,`LOCATION:${ev.location}`,`DESCRIPTION:${ev.desc}`,
      'END:VEVENT','END:VCALENDAR'
    ].join('\\r\\n');
    return 'data:text/calendar;charset=utf-8,' + encodeURIComponent(ics);
  }
  function renderUpcomingCard(ev){
    const card = document.createElement('div'); card.className='event-card';
    const th = document.createElement('div'); th.className='event-thumb';
    th.appendChild(makeImage(ev.img, ev.fallback, ev.title));
    const when = ev.tbd ? 'Date TBD' : new Date(ev.start).toLocaleString([], {month:'short', day:'numeric', hour:'2-digit', minute:'2-digit'});
    const body = document.createElement('div'); body.className='event-body';
    body.innerHTML = `
      <div class="event-title">${ev.title}</div>
      <div class="event-meta"><span class="pill">${ev.tbd ? 'TBD' : 'Upcoming'}</span><span>${ev.tbd ? 'To be announced' : when}</span></div>
      <div class="event-desc">${ev.location} • ${ev.price>0 ? '$'+ev.price : 'Free'}</div>
      <div class="event-actions">
        ${ev.tbd ? '' : `<a class="btn mini secondary" href="${makeICSDataURI(ev)}" download="${ev.id}.ics">Add to Calendar</a>
        <a class="btn mini" href="#register">Register</a>`}
      </div>`;
    card.appendChild(th); card.appendChild(body);
    return card;
  }

  const coreTeam = [
    {name:'Sowjanya Reddy Jagganna', role:'President',     img:'pictures/Sowjanya.jpeg'},
    {name:'Ramesh Jakkampudi',       role:'Vice President',img:'pictures/Ramesh.jpeg'},
    {name:'Shhiva Pannem',           role:'Secretary',     img:'assets/people/shhiva.jpg'},
    {name:'Sidhesh Siddegowda',      role:'Treasurer',     img:'assets/people/sidhesh.jpg'},
  ];
  function renderCore(){
    document.getElementById('coreCards').innerHTML = coreTeam.map(m=>(
      `<div class="person-card">
        <img src="${m.img}" alt="${m.name}">
        <div class="name">${m.name}</div>
        <div class="role">${m.role}</div>
        <div style="margin-top:10px;display:flex;justify-content:center;gap:8px;flex-wrap:wrap">
          <span class="chip-mini">Menifee, CA</span>
        </div>
      </div>`
    )).join('');
  }
  const boardMembers = [
    {name:'Balaram Singamsetty (Bala)', role:'Board of Director', img:'assets/people/bala.jpg'},
    {name:'Raju Kakani',                role:'Board of Director', img:'assets/people/raju.jpg'},
    {name:'Vijay Jestadi',              role:'Board of Director', img:'assets/people/vijay.jpg'},
    {name:'Ramarao Rimmalapudi',        role:'Board of Director', img:'assets/people/ramarao.jpg'},
    {name:'Ravi Jampana',               role:'Board of Director', img:'assets/people/ravi.jpg'},
  ];
  function renderBoard(){
    document.getElementById('boardCards').innerHTML = boardMembers.map(m=>(
      `<div class="person-card">
        <img src="${m.img}" alt="${m.name}">
        <div class="name">${m.name}</div>
        <div class="role">${m.role}</div>
      </div>`
    )).join('');
  }

  function sameDate(a,b){return a.getFullYear()===b.getFullYear() && a.getMonth()===b.getMonth() && a.getDate()===b.getDate();}
  function eventDateMap(){
    const m={};
    upcomingEvents.forEach(ev=>{
      if(!ev.tbd && ev.start){
        const d = new Date(ev.start);
        const key = `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;
        m[key]=(m[key]||0)+1;
      }
    });
    return m;
  }
  function renderCalendar(){
    const grid = document.getElementById('calendarGrid');
    const monthLbl = document.getElementById('calendarMonth');
    const now = new Date();
    const focus = new Date(now.getFullYear(), now.getMonth(), 1);
    monthLbl.textContent = focus.toLocaleString(undefined,{month:'long', year:'numeric'});

    const startDow = (focus.getDay()+7)%7;
    const daysInMonth = new Date(focus.getFullYear(), focus.getMonth()+1, 0).getDate();
    const totalCells = Math.ceil((startDow + daysInMonth)/7)*7;
    const map = eventDateMap();

    grid.innerHTML = '';
    for(let i=0;i<totalCells;i++){
      const cell = document.createElement('div');cell.className='cal-cell';
      const dayNum = i - startDow + 1;
      const inMonth = dayNum>=1 && dayNum<=daysInMonth;
      if(!inMonth){ cell.classList.add('mute'); cell.textContent=''; }
      else{
        cell.textContent = dayNum;
        const d = new Date(focus.getFullYear(), focus.getMonth(), dayNum);
        if(map[`${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`]) cell.classList.add('has');
        if(sameDate(d, now)) cell.style.outline='2px solid rgba(255,204,0,.7)';
      }
      grid.appendChild(cell);
    }

    const sched = document.getElementById('upcomingSchedule');
    const soon = upcomingEvents.slice().sort((a,b)=>{
      const A = a.tbd ? Infinity : new Date(a.start).getTime();
      const B = b.tbd ? Infinity : new Date(b.start).getTime();
      return A-B;
    });
    sched.innerHTML='';
    soon.forEach(ev=>{
      const d = ev.tbd ? null : new Date(ev.start);
      const dt = ev.tbd ? 'Date TBD' : `${d.toLocaleDateString(undefined,{month:'short',day:'numeric'})} • ${d.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'})}`;
      const icsHref = !ev.tbd ? makeICSDataURI(ev) : '#';
      const item = document.createElement('div'); item.className='sch-item';
      item.innerHTML = `
        <div class="t">${ev.title}</div>
        <div class="d">${dt} — ${ev.location} • ${ev.price>0 ? '$'+ev.price : 'Free'}</div>
        <div class="a">
          ${ev.tbd ? '' : `<a class="btn mini secondary" href="${icsHref}" download="${ev.id}.ics">Add to Calendar</a>
          <a class="btn mini" href="#register">Register</a>`}
        </div>`;
      sched.appendChild(item);
    });
  }

  function toast(msg, ms=1400){
    const t=document.getElementById('toast');
    t.textContent=msg; t.classList.add('show');
    clearTimeout(toast._h);
    toast._h=setTimeout(()=>t.classList.remove('show'), ms);
  }

  /* =================== GALLERY MARQUEE =================== */
  (function(){
    const images = [
      {src:'pictures/1.jpg', label:'Moment 1', fallback:'https://images.unsplash.com/photo-1548020356-5a6d8924b7f8?q=80&w=1200&auto=format&fit=crop'},
      {src:'pictures/2.jpg', label:'Moment 2', fallback:'https://images.unsplash.com/photo-1492684223066-81342ee5ff30?q=80&w=1200&auto=format&fit=crop'},
      {src:'pictures/3.jpg', label:'Moment 3', fallback:'https://images.unsplash.com/photo-1520975922284-5fbc8da7e2f3?q=80&w=1200&auto=format&fit=crop'},
      {src:'pictures/4.jpg', label:'Moment 4', fallback:'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?q=80&w=1200&auto=format&fit=crop'},
    ];
    const track = document.getElementById('gtrack');
    function makeSlide(it){
      const s=document.createElement('div'); s.className='gslide';
      const im=document.createElement('img'); im.src=it.src; im.alt=it.label;
      im.onerror=()=>{ if(it.fallback && im.src!==it.fallback) im.src=it.fallback; };
      const lb=document.createElement('div'); lb.className='label'; lb.textContent=it.label;
      s.appendChild(im); s.appendChild(lb); return s;
    }
    [...images, ...images].forEach(it=> track.appendChild(makeSlide(it)));
    let x=0; const speed=0.35;
    function loop(){
      x -= speed;
      const halfWidth = track.scrollWidth / 2;
      if(Math.abs(x) >= halfWidth){ x = 0; }
      track.style.transform = `translateX(${x}px)`;
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  })();

  function renderCalendarAndEvents(){
    renderCalendar();
    buildVLoop('pastVLoop', completedEvents, renderPastCard);
    buildVLoop('upVLoop',   upcomingEvents,  renderUpcomingCard);
  }
  function startCountdown(){
    const target = upcomingEvents.filter(e=>!e.tbd && e.start && new Date(e.start).getTime()>Date.now())
      .sort((a,b)=>new Date(a.start)-new Date(b.start))[0];
    const titleEl = document.getElementById('nextEventTitle');
    const c = document.getElementById('countdown');
    if(!target){ titleEl.textContent='Stay tuned'; c.innerHTML=''; return; }
    titleEl.textContent = `${target.title} — ${new Date(target.start).toLocaleDateString(undefined,{month:'short', day:'numeric'})}`;
    function tick(){
      const now = Date.now(), t = new Date(target.start).getTime() - now;
      if(t<=0){ c.innerHTML='<div class="k">Happening now</div>'; return; }
      const d=Math.floor(t/86400000), h=Math.floor((t%86400000)/3600000), m=Math.floor((t%3600000)/60000), s=Math.floor((t%60000)/1000);
      c.innerHTML = `<div class="k">${d}<br/><small>days</small></div><div class="k">${h}<br/><small>hrs</small></div><div class="k">${m}<br/><small>min</small></div><div class="k">${s}<br/><small>sec</small></div>`;
    }
    tick(); clearInterval(startCountdown._int); startCountdown._int=setInterval(tick,1000);
  }
  renderCore();
  renderBoard();
  renderCalendarAndEvents();
  startCountdown();

  /* ===================== DONATE INTERACTIONS ===================== */
  const GOAL = 5000;
  let raised = 2860;
  let donors = 73;

  function updateProgress(){
    document.getElementById('goalLbl').textContent = `$${GOAL.toLocaleString()}`;
    document.getElementById('raisedLbl').textContent = `$${raised.toLocaleString()}`;
    document.getElementById('donorsLbl').textContent = donors.toLocaleString();
    const pct = Math.min(100, Math.round((raised/GOAL)*100));
    requestAnimationFrame(()=>{ document.getElementById('donationBar').style.width = pct + '%'; });
  }
  updateProgress();

  const amountButtons = Array.from(document.querySelectorAll('.amount-btn'));
  const customAmount = document.getElementById('customAmount');
  let selectedAmount = null;

  function setActive(btn){
    amountButtons.forEach(b=>b.classList.remove('active'));
    if(btn){ btn.classList.add('active'); selectedAmount = parseInt(btn.dataset.amt,10); customAmount.value=''; }
  }
  amountButtons.forEach(b=>{
    b.addEventListener('click', ()=> setActive(b));
  });
  customAmount.addEventListener('input', ()=>{
    amountButtons.forEach(b=>b.classList.remove('active'));
    const v = parseInt(customAmount.value || '0',10);
    selectedAmount = isNaN(v) ? null : v;
  });

  function triggerFireworks(){
    const canvas=document.getElementById('fireworks-canvas');
    const ctx=canvas.getContext('2d');
    canvas.width=window.innerWidth; canvas.height=window.innerHeight;
    const particles=[]; for(let i=0;i<160;i++){
      particles.push({x:canvas.width/2,y:canvas.height/2,vx:(Math.random()-0.5)*11,vy:(Math.random()-0.5)*11,size:Math.random()*3+2,color:`hsl(${Math.random()*360},100%,50%)`,life:60+Math.random()*40});
    }
    function animate(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      particles.forEach(p=>{
        p.x+=p.vx; p.y+=p.vy; p.vy+=0.09; p.life-=1;
        ctx.globalAlpha = Math.max(0,p.life/100);
        ctx.fillStyle=p.color; ctx.beginPath(); ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill();
      });
      if(particles.some(p=>p.life>0)) requestAnimationFrame(animate); else ctx.clearRect(0,0,canvas.width,canvas.height);
    }
    animate();
  }

  const form = document.getElementById('donationForm');
  form.addEventListener('submit', (e)=>{
    e.preventDefault();
    const name = document.getElementById('donorName').value.trim();
    const email = document.getElementById('donorEmail').value.trim();
    const monthly = document.getElementById('recurring').checked;

    let amount = selectedAmount || parseInt(customAmount.value||'0',10);
    if(!amount || amount<=0){ toast('Please choose or enter an amount'); return; }

    raised += amount;
    donors += 1;
    updateProgress();
    triggerFireworks();

    const threshold = 250;
    if(amount >= threshold){
      injectDonorToLeaderboard({ name, amount });
    }

    toast(monthly ? `Thanks, ${name}! Monthly gift of $${amount}.` : `Thanks, ${name}! One-time gift of $${amount}.`);
    form.reset(); setActive(null); selectedAmount = null;
  });

  function injectDonorToLeaderboard({name, amount}){
    const list = document.getElementById('donorList');
    const newEl = document.createElement('div');
    newEl.className = 'donor';
    newEl.innerHTML = `
      <div class="avatar" aria-hidden="true">💛</div>
      <div>
        <div class="name">${name || 'Anonymous'}</div>
        <div class="hint">New supporter</div>
      </div>
      <div style="text-align:right;">
        <div class="amt">$${amount.toLocaleString()}</div>
        <div class="rank">New</div>
      </div>`;
    list.appendChild(newEl);
  }

  /* ===================== HERO PARALLAX MICRO-SWAY ==================== */
  (function(){
    const wrap=document.getElementById('heroWrap'); const logo=document.getElementById('heroLogo');
    if(!wrap||!logo) return; let RAF=null;
    function onMove(e){const r = wrap.getBoundingClientRect(); const x = (e.clientX - r.left)/r.width - 0.5; const y = (e.clientY - r.top)/r.height - 0.5;
      if(RAF) cancelAnimationFrame(RAF); RAF = requestAnimationFrame(()=>{logo.style.transform = `translate(${x*14}px, ${y*14}px)`;});}
    wrap.addEventListener('pointermove', onMove);
  })();

  document.querySelector('.sunburst .sweep').style.setProperty('--beamspd', (8 + Math.random()*6)+'s');

  /* ========================= VENDORS JS ============================ */
  const vendors = [
    { name:'Menifee Motors', cat:'Services', logo:'assets/vendors/menifee-motors.jpg', url:'#', blurb:'Trusted local auto care & sponsors.' },
    { name:'Spice Route Kitchen', cat:'Food', logo:'assets/vendors/spice-route.jpg', url:'#', blurb:'Homestyle Indian meals & catering.' },
    { name:'Little Learners Academy', cat:'Education', logo:'assets/vendors/learners.jpg', url:'#', blurb:'After-school & tutoring programs.' },
    { name:'Saree & Shine Boutique', cat:'Boutique', logo:'assets/vendors/saree-shine.jpg', url:'#', blurb:'Ethnic wear, jewelry & gifts.' },
    { name:'Chai Junction', cat:'Food', logo:'assets/vendors/chai-junction.jpg', url:'#', blurb:'Masala chai, snacks & sweets.' },
    { name:'Heritage Lake Realty', cat:'Services', logo:'assets/vendors/heritage-realty.jpg', url:'#', blurb:'Neighborhood real estate experts.' },
  ];

  function makeVendorCard(v){
    const div = document.createElement('div');
    div.className = 'vendor-card';
    div.innerHTML = `
      <a href="${v.url}" target="_blank" rel="noopener" style="text-decoration:none;color:inherit;">
        <img src="${v.logo}" alt="${v.name}" onerror="if(this.src.indexOf('unsplash')===-1){this.src='https://images.unsplash.com/photo-1557683316-973673baf926?w=800&auto=format&fit=crop'}">
        <div class="name">${v.name}</div>
        <div class="cat pill">${v.cat}</div>
        <div class="hint" style="margin-top:6px;">${v.blurb}</div>
      </a>`;
    return div;
  }

  function renderVendors(filter='All'){
    const grid = document.getElementById('vendorGrid');
    if(!grid) return;
    grid.innerHTML = '';
    vendors
      .filter(v => filter==='All' || v.cat===filter)
      .forEach(v => grid.appendChild(makeVendorCard(v)));
  }

  document.addEventListener('click', (e)=>{
    const btn = e.target.closest('button[data-filter]');
    if(!btn) return;
    const val = btn.getAttribute('data-filter');
    renderVendors(val);
    toast(val==='All' ? 'Showing all vendors' : 'Filtered: ' + val);
  });

  function renderVendorMarquee(){
    const track = document.getElementById('vendorMarquee');
    if(!track) return;
    function makeLogo(v){
      const s=document.createElement('div'); s.className='gslide'; s.style.width='280px'; s.style.height='120px';
      const im=document.createElement('img'); im.src=v.logo; im.alt=v.name;
      im.onerror=()=>{ im.src='https://images.unsplash.com/photo-1557683316-973673baf926?w=800&auto=format&fit=crop'; };
      const lb=document.createElement('div'); lb.className='label'; lb.textContent=v.name;
      s.appendChild(im); s.appendChild(lb); return s;
    }
    [...vendors, ...vendors].forEach(v=> track.appendChild(makeLogo(v)));

    let x=0; const speed=0.5;
    function loop(){
      x -= speed;
      const halfWidth = track.scrollWidth / 2;
      if(Math.abs(x) >= halfWidth){ x = 0; }
      track.style.transform = `translateX(${x}px)`;
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  }

  renderVendors('All');
  renderVendorMarquee();
  </script>
</body>
</html>
x